<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy</title>
    <style>
        /* SYSTEM 7 AESTHETICS */
        :root {
            --bg-color: #ffffff;
            --text-color: #000000;
            --border: 2px solid #000000;
            --shadow: 4px 4px 0px #000000;
            --stripe-pattern: repeating-linear-gradient(0deg, transparent, transparent 2px, #000 3px, #000 4px);
        }

        body {
            image-rendering: -webkit-crisp-edges;
            image-rendering: -moz-crisp-edges;
            image-rendering: -o-crisp-edges;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            -ms-interpolation-mode: nearest-neighbor;
            background-repeat: repeat;
            background-position: top left;

            image-rendering: -webkit-optimize-contrast;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            background-repeat: repeat;
            background-position: top left;

            image-rendering: pixelated;
            image-rendering: crisp-edges;
            background-repeat: repeat;
            background-position: top left;

            font-family: "Geneva", "Verdana", sans-serif;
            margin: 0;
            padding: 20px;
            height: 100vh;
            overflow: hidden;
            background-color: #e5e5e5;
            /* Background managed by settings */

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* WINDOW FRAME */
        .window {
            background: white;
            border: 2px solid black;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            height: 90vh;
            width: 95%;
            max-width: 800px;
            position: relative;
        }

        /* TITLE BAR */
        .title-bar {
            height: 35px;
            border-bottom: 2px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            position: relative;
            flex-shrink: 0;
        }

        .title-stripes {
            position: absolute;
            top: 4px;
            bottom: 4px;
            left: 4px;
            right: 4px;
            background-image: var(--stripe-pattern);
            z-index: 0;
        }

        .title-text {
            background: white;
            padding: 0 10px;
            font-weight: bold;
            z-index: 1;
            font-size: 1.1rem;
        }

        /* CLOSE BUTTON (HOME) */
        .close-box {
            position: absolute;
            left: 10px;
            width: 18px;
            height: 18px;
            border: 2px solid black;
            background: white;
            z-index: 2;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-family: sans-serif;
            font-size: 0.9rem;
            line-height: 1;
            box-shadow: 2px 2px 0 black;
        }

        .close-box:active {
            background: black;
            color: white;
            transform: translate(1px, 1px);
            box-shadow: none;
        }

        /* CONTENT AREA */
        .window-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 30px;
            background: white;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        h1 {
            font-size: 1.5rem;
            border-bottom: 2px solid black;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 1.1rem;
            margin-top: 30px;
            margin-bottom: 10px;
            font-weight: bold;
            text-decoration: underline;
        }

        p {
            margin-bottom: 15px;
        }

        ul {
            list-style-type: square;
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }
    </style>
</head>

<body>

    <div class="window">
        <div class="title-bar">
            <div class="title-stripes"></div>
            <div class="close-box" onclick="window.location.href='index'">X</div>
            <span class="title-text">Privacy Policy</span>
        </div>

        <div class="window-content">
            <h1>Privacy Policy for ReKindle</h1>
            <p><strong>Last Updated:</strong> 10th December 2025</p>

            <p>ReKindle is a web application designed to provide a dashboard for E-ink devices. We prioritize your
                privacy and transparency.</p>

            <h2>1. Data Architecture</h2>
            <p>ReKindle operates in two modes:</p>
            <ul>
                <li><strong>Guest Mode:</strong> All data is stored locally in your browser's Local Storage. Nothing is
                    sent to our servers. If you clear your browser cache, this data is lost.</li>
                <li><strong>Logged In Mode:</strong> Data for supported apps is synced securely to Google Firebase
                    Firestore under your unique User ID. This allows you to access your data across multiple devices.
                </li>
            </ul>

            <h2>2. Google User Data (Tasks, Calendar, Contacts)</h2>
            <p>ReKindle offers integration with Google services to display your personal data on your device. This
                feature is optional.</p>
            <ul>
                <li><strong>Access:</strong> The app requests access to your Google data only after you explicitly click
                    "Log In" (in the specific app or settings) and grant permission via Google's secure OAuth 2.0
                    protocol.</li>
                <li><strong>Usage:</strong> This data is fetched directly from Google's servers to your device's
                    browser. It is used solely for display and editing within the ReKindle dashboard.</li>
                <li><strong>Storage:</strong> Your Google Tasks, Calendar Events, and Contacts are <strong>not</strong>
                    stored on our Firebase servers. Temporary access tokens are stored in your browser's Local Storage
                    to maintain your session.</li>
                <li><strong>Sharing:</strong> We do not share your Google user data with any third parties.</li>
            </ul>
            <p><em>ReKindle's use and transfer to any other app of information received from Google APIs will adhere to
                    <a href="https://developers.google.com/terms/api-services-user-data-policy" target="_blank"
                        style="color:black;">Google API Services User Data Policy</a>, including the Limited Use
                    requirements.</em></p>

            <h2>3. Firebase Cloud Sync Data</h2>
            <p>If you create a ReKindle account, the following app data is stored in our database (Google Firestore) to
                enable sync features across your devices:</p>
            <ul>
                <li><strong>Tasks & Quick ToDo:</strong> To-do items created in the main Tasks app or generated via
                    handwriting in Quick ToDo.</li>
                <li><strong>Calendar (Native):</strong> Events added to the native calendar if Google Calendar is not
                    enabled.</li>
                <li><strong>Contacts (Native):</strong> Contacts added manually to the native address book if Google
                    Contacts is not enabled.</li>
                <li><strong>Notes:</strong> The text content and timestamps of your notes.</li>
                <li><strong>Reader:</strong> Your library index and reading progress (CFI position) for your books. The
                    actual book files are stored locally in your browser cache (IndexedDB) to save bandwidth, but the
                    metadata is synced.</li>
                <li><strong>Settings:</strong> General preferences, wallpaper selection, and integration toggles.</li>
                <li><strong>Clock:</strong> Your saved cities and home location for the World Clock.</li>
                <li><strong>Crossword & Mini Crossword:</strong> Current puzzle state and grid progress.</li>
                <li><strong>Sudoku:</strong> Current puzzle state and pencil marks.</li>
                <li><strong>Nonograms (Picross):</strong> Puzzle progress and solved states.</li>
                <li><strong>Minesweeper:</strong> Current game state and timer.</li>
                <li><strong>Nerdle:</strong> Daily game state and guesses.</li>
                <li><strong>Chess & Checkers:</strong> Win/Loss/Draw statistics.</li>
                <li><strong>Leaderboards:</strong> High scores for <strong>Blocks (Tetris)</strong> and
                    <strong>Snake</strong> are stored publicly linked to your username.
                </li>
                <li><strong>Reading Log:</strong> Daily reading duration tracking.</li>
                <li><strong>Habit Tracker:</strong> Your habits and completion history.</li>
                <li><strong>Stocks:</strong> The list of stock ticker symbols you are watching.</li>
                <li><strong>Cookbook:</strong> Recipes you save.</li>
                <li><strong>RSS Reader:</strong> Your subscribed feed URLs.</li>
                <li><strong>Reddit:</strong> Your list of saved subreddits.</li>
                <li><strong>Flashcards:</strong> Your decks, cards, and study intervals.</li>
                <li><strong>Countdown:</strong> Your saved event timers.</li>
                <li><strong>Spellbound (Spelling Bee):</strong> Your daily found words.</li>
                <li><strong>Words (Scrabble):</strong> Multiplayer game state and turn history.</li>
                <li><strong>KindleChat:</strong> Messages sent in chat rooms are stored to facilitate communication.
                </li>
                <li><strong>Freewrite:</strong> Active writing sessions and saved documents.</li>
                <li><strong>Mindmap:</strong> Saved mindmaps and layouts.</li>
            </ul>

            <h2>4. Local-Only Data</h2>
            <p>The following apps store data <strong>only</strong> on your specific device via browser
                <code>localStorage</code> (or are purely ephemeral), regardless of login status:
            </p>
            <ul>
                <li><strong>Browser:</strong> Your browsing history.</li>
                <li><strong>Sketchpad (Napkin):</strong> Drawings are not saved to any persistent storage and are
                    cleared upon exit or refresh.</li>
                <li><strong>ePub Reader:</strong> The ePub app is a tool for adding books to your main Reader library.
                    It does not store data itself.</li>
                <li><strong>E-ink Sites:</strong> This app is a curated list of links and does not store any user data.
                </li>
                <li><strong>Pomodoro Timer:</strong> Session settings are ephemeral and not saved.</li>
                <li><strong>Calculator & Converter:</strong> No data is stored.</li>
                <li><strong>Breathing:</strong> Session settings are ephemeral.</li>
                <li><strong>Single Player Games:</strong> 2048 (High Score & Game State), Wordle (Daily Progress),
                    Jigsaw, Memory, Solitaire, Connections (Bindings), Word Search, Anagrams, Hangman, and Blackjack.
                </li>
                <li><strong>Pass-and-Play Games:</strong> Game State for 2-Player Battleship, Chess, Checkers, Connect
                    4, and Tic-Tac-Toe is not synced to the cloud.</li>
                <li><strong>Freewrite:</strong> Host/Client connection codes are ephemeral and not stored permanently.
                </li>
            </ul>

            <h2>5. Third-Party Services</h2>
            <p>ReKindle connects to the following third-party public APIs to provide functionality:</p>
            <ul>
                <li><strong>Google Gemini:</strong> Used for the AI Assistant (Chat) intelligence. Your prompts are sent
                    to Google's AI service via our secure proxy.</li>
                <li><strong>Cloudflare Workers:</strong> Used to proxy requests for the AI Assistant and Quick ToDo
                    handwriting recognition. Images sent to Quick ToDo are processed ephemerally and not stored.</li>
                <li><strong>Gutendex:</strong> Used by the Reader app to search for and download public domain ebooks.
                </li>
                <li><strong>Standard Ebooks:</strong> Used by the Standard Ebooks app to fetch RSS feeds of new
                    releases.</li>
                <li><strong>Open Library:</strong> Used for book search and cover images in the Reading List app.</li>
                <li><strong>DictionaryAPI:</strong> Used by the Dictionary app for definitions.</li>
                <li><strong>Lingva Translate:</strong> Used by the Translator app for translation services.</li>
                <li><strong>Open-Meteo:</strong> Used for weather data.</li>
                <li><strong>Yahoo Finance (via AllOrigins/CorsProxy):</strong> Used to fetch stock quotes.</li>
                <li><strong>TheMealDB:</strong> Used by Cookbook to search for recipes.</li>
                <li><strong>OpenStreetMap, Nominatim, & OSRM:</strong> Used by the Maps app for tiles, location search,
                    and routing.</li>
                <li><strong>Reddit:</strong> Used to fetch public posts and comments.</li>
                <li><strong>Wikipedia:</strong> Used to fetch daily history events and encyclopedia articles.</li>
                <li><strong>GitHub (doshea/nyt_crosswords & dolph/dictionary):</strong> Used as data sources for
                    Crossword and Spellbound.</li>
                <li><strong>FrogFind & CodeTabs:</strong> Used by the Browser and Reader apps to simplify and proxy web
                    content for E-ink displays.</li>
                <li><strong>rss2json:</strong> Used by the Newspaper and RSS Reader apps to parse feed data.</li>
            </ul>

            <h2>6. Contact</h2>
            <p>If you have questions about this policy,</p>
            <p>Contact: <strong>contact@ukiyomusic.com</strong></p>

        </div>
    </div>

    <script>
        window.onload = () => {
            loadWallpaper();
        };

        // Helper to HTML-escape text
        function escapeHTML(text) {
            const div = document.createElement('div');
            div.appendChild(document.createTextNode(text));
            return div.innerHTML;
        }

        // Helper to sanitize background image URLs from localStorage
        function sanitizeBackgroundImage(imageString) {
            if (!imageString) return '';
            if (imageString.startsWith('url("data:image/png;base64,')) {
                return imageString;
            }
            if (imageString.startsWith('url("') && imageString.endsWith('")')) {
                const url = imageString.substring(5, imageString.length - 2);
                if ((url.startsWith('http') || url.startsWith('/')) && !url.includes('javascript:')) {
                    return imageString;
                }
            }
            return '';
        }

        function loadWallpaper() {
            const wallpaperImg = localStorage.getItem('rekindle_bg_image');
            const wallpaperSize = localStorage.getItem('rekindle_bg_size');

            if (wallpaperImg) {
                document.body.style.backgroundImage = wallpaperImg;
            }
            if (wallpaperSize) {
                document.body.style.backgroundSize = wallpaperSize;
            }
        }
    </script>
</body>

</html>